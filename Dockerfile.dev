## Desenvolvimento: imagem com hot-reload para Vite
FROM node:20-alpine

WORKDIR /app

# Instalar dependências primeiro para aproveitar cache
COPY vite-project/package*.json ./
RUN npm install

# Copiar restante do código
COPY vite-project/ ./

# Expor porta padrão do Vite
EXPOSE 8004

ENV HOST=0.0.0.0 \
    PORT=8004 \
    NODE_ENV=development

CMD ["npm","run","dev","--","--host","0.0.0.0"]
